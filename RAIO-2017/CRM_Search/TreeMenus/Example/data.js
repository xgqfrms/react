"use strict";

const data = {
    "apiname": null,
    "name": "root",
    "toggled": true,
    "children": [{
            "apiname": "TestProtocol",
            "name": "测试协议",
            "toggled": false,
            "children": null,
            "active": false,
            "loading": false
        },
        {
            "apiname": null,
            "name": "基金",
            "toggled": false,
            "children": [{
                "apiname": null,
                "name": "F9",
                "toggled": false,
                "children": [{
                    "apiname": null,
                    "name": "基金概况",
                    "toggled": false,
                    "children": [{
                            "apiname": null,
                            "name": "基金经理",
                            "toggled": false,
                            "children": [{
                                    "apiname": "fund.f9.fund_profile.FundManager.BasicInformations",
                                    "name": "基金经理详细信息(基本资料)",
                                    "toggled": false,
                                    "children": null,
                                    "active": false,
                                    "loading": false
                                },
                                {
                                    "apiname": "BasicInformationDeatil",
                                    "name": "基金经理详细信息(明细)",
                                    "toggled": false,
                                    "children": null,
                                    "active": false,
                                    "loading": false
                                }
                            ],
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundIntroduce",
                            "name": "基金介绍",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundManagerMent",
                            "name": "基金管理人(基金公司基本资料,基金公司基本联系方式)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.SeatsTrading",
                            "name": "交易席位租用及交易状况",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundManager",
                            "name": "基金经理(信息显示表格)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundManager.FundPerformance",
                            "name": "基金管理人(旗下各基金表现)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundManager.ShareholderStatus",
                            "name": "基金管理人(基金公司股东状况)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": null,
                            "name": "基金销售信息",
                            "toggled": false,
                            "children": [{
                                    "apiname": "fund.f9.fund_profile.sales_information.Consignment_Mechanism",
                                    "name": "基金代销机构",
                                    "toggled": false,
                                    "children": null,
                                    "active": false,
                                    "loading": false
                                },
                                {
                                    "apiname": "fund.f9.fund_profile.FundManager.FundsRate",
                                    "name": "基金费率（废弃）",
                                    "toggled": false,
                                    "children": null,
                                    "active": false,
                                    "loading": false
                                },
                                {
                                    "apiname": "fund.f9.fund_profile.sales_information.FundChargeRate",
                                    "name": "基金费率",
                                    "toggled": false,
                                    "children": null,
                                    "active": false,
                                    "loading": false
                                }
                            ],
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundManager.ProductStructure",
                            "name": "基金管理人(基金产品结构)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundManager.FundNetWorth",
                            "name": "基金管理人(基金资产净值柱状图)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundGraphicsReport",
                            "name": "基金经理(图形合并)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        },
                        {
                            "apiname": "fund.f9.fund_profile.FundIntroduce.FundAward",
                            "name": "基金介绍(基金获奖情况)",
                            "toggled": false,
                            "children": null,
                            "active": false,
                            "loading": false
                        }
                    ],
                    "active": false,
                    "loading": false
                }],
                "active": false,
                "loading": false
            }],
            "active": false,
            "loading": false
        },
        {
            "apiname": null,
            "name": "WEBF10",
            "toggled": false,
            "children": [{
                "apiname": null,
                "name": "财务概况",
                "toggled": false,
                "children": [{
                    "apiname": null,
                    "name": "财务指标",
                    "toggled": false,
                    "children": [{
                        "apiname": "F10.FinanceIndicator.Primary",
                        "name": "主要指标",
                        "toggled": false,
                        "children": null,
                        "active": false,
                        "loading": false
                    }],
                    "active": false,
                    "loading": false
                }],
                "active": false,
                "loading": false
            }],
            "active": false,
            "loading": false
        },
        {
            "apiname": "StaticReportImageData",
            "name": "REPORT 中关联的报表图形数据 @IMAGEID 图像数据的ID，一般由报表事先返回",
            "toggled": false,
            "children": null,
            "active": false,
            "loading": false
        },
        {
            "apiname": "DBMarketSequence",
            "name": "行情序列",
            "toggled": false,
            "children": null,
            "active": false,
            "loading": false
        }
    ],
    "active": false,
    "loading": false
};


/**
 * 
 * @param {object/array} data 
 * @param {boolean} hasChildren 
 */

const TreeMenus = (data, hasChildren) => {
    let html = (hasChildren) ? `<div>` : ``; 
    // Wrap with div if true
    html += `<ul>`;
    for(let item in data){
        // keys ???
        console.log(`item = `, item);
        html += `<li>`;
        // Uncaught TypeError: Cannot read property 'children' of null
        // ???
        if(typeof(data[item].children) === 'object'){ 
            // An array will return 'object'
            if(hasChildren){
                html += `<a href="#${data[item].apiname}">${data[item].name}</a>`;
            } else {
                html += data[item].name; 
                // Submenu found, but top level list item.
            }
            html += TreeMenus(data[item].children, true); 
            console.log(`new item = `, data[item].children);
            // Submenu found. 
            // Calling recursively same method (and wrapping it in a div)
        } else {
            html += data[item].name
            // No submenu
        }
        html += `</li>`;
    }
    html += `</ul>`;
    html += (hasChildren) ? `<div>` : ``; 
    return html;
};


// const str = TreeMenus(data, true);
const str = TreeMenus(data.children, true);
/* 


"<div>
    <ul>
        <li>
            <a href="TestProtocol">测试协议</a>
            <div>
                <ul></ul>
            <div>
        </li>
        <li>
            <a href="null">基金</a>
            <div>
                <ul></ul>
            <div>
        </li>
        <li>
            <a href="null">WEBF10</a>
            <div>
                <ul></ul>
            <div>
        <li>
            <a href="StaticReportImageData">
                REPORT 中关联的报表图形数据 @IMAGEID 图像数据的ID，一般由报表事先返回
            </a>
            <div>
                <ul></ul>
            <div>
        <li>
            <a href="DBMarketSequence">行情序列</a>
            <div>
                <ul></ul>
            <div>
        </li>
    </ul>
<div>"




*/
export {data};
export default data;


/* 



"<div><ul><li><a href="#TestProtocol">测试协议</a><div><ul></ul><div></li><li><a href="#null">基金</a><div><ul><li><a href="#null">F9</a><div><ul><li><a href="#null">基金概况</a><div><ul><li><a href="#null">基金经理</a><div><ul><li><a href="#fund.f9.fund_profile.FundManager.BasicInformations">基金经理详细信息(基本资料)</a><div><ul></ul><div></li><li><a href="#BasicInformationDeatil">基金经理详细信息(明细)</a><div><ul></ul><div></li></ul><div></li><li><a href="#fund.f9.fund_profile.FundIntroduce">基金介绍</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundManagerMent">基金管理人(基金公司基本资料,基金公司基本联系方式)</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.SeatsTrading">交易席位租用及交易状况</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundManager">基金经理(信息显示表格)</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundManager.FundPerformance">基金管理人(旗下各基金表现)</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundManager.ShareholderStatus">基金管理人(基金公司股东状况)</a><div><ul></ul><div></li><li><a href="#null">基金销售信息</a><div><ul><li><a href="#fund.f9.fund_profile.sales_information.Consignment_Mechanism">基金代销机构</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundManager.FundsRate">基金费率（废弃）</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.sales_information.FundChargeRate">基金费率</a><div><ul></ul><div></li></ul><div></li><li><a href="#fund.f9.fund_profile.FundManager.ProductStructure">基金管理人(基金产品结构)</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundManager.FundNetWorth">基金管理人(基金资产净值柱状图)</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundGraphicsReport">基金经理(图形合并)</a><div><ul></ul><div></li><li><a href="#fund.f9.fund_profile.FundIntroduce.FundAward">基金介绍(基金获奖情况)</a><div><ul></ul><div></li></ul><div></li></ul><div></li></ul><div></li><li><a href="#null">WEBF10</a><div><ul><li><a href="#null">财务概况</a><div><ul><li><a href="#null">财务指标</a><div><ul><li><a href="#F10.FinanceIndicator.Primary">主要指标</a><div><ul></ul><div></li></ul><div></li></ul><div></li></ul><div></li><li><a href="#StaticReportImageData">REPORT 中关联的报表图形数据 @IMAGEID 图像数据的ID，一般由报表事先返回</a><div><ul></ul><div></li><li><a href="#DBMarketSequence">行情序列</a><div><ul></ul><div></li></ul><div>"








*/